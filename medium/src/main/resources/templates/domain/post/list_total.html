<html lang="ko" layout:decorate="~{global/layout}">
<head>
    <meta charset="UTF-8">
    <title>Medium</title>
</head>
<body>
<div layout:fragment="content">
    <div class="mx-20">
        <div class="flex my-10 pb-2">
        <h1 class="flex-none mr-20 text-3xl text-yellow-500 font-bold">Total Posts on medium</h1>
            <div class="flex-none" th:unless="${paging.isEmpty()}">
                <a th:classappend="${!paging.hasPrevious} ? 'opacity-50 pointer-events-none' : ''"
                   th:href="|?page=${paging.number-1}|"
                   class="page-link join-item btn btn-lg hover:text-blue-500"
                   th:text="prev">
                </a>
                <a th:classappend="${!paging.hasNext} ? 'opacity-50 pointer-events-none' : ''"
                   th:href="|?page=${paging.number+1}|"
                   class="page-link join-item btn btn-lg hover:text-blue-500"
                   th:text="next">
                </a>
                <a th:href="|?page=${randomValue}|"
                   class="page-link join-item btn btn-primary btn-lg hover:text-blue-500"
                   th:text="jump">
                </a>
            </div>
        </div>
        <div class="mx-4">
            <ul id="postList">
                <li class="my-2 flex" th:each="post, iterStat : ${paging.content}" th:if="${iterStat.index < 10}">
                    <div class="flex-none w-96 h-44 p-4">
                        <div class="flex mb-2">
                            <div class="pt-1 mr-1">
                                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512">
                                    <path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0
                                    383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8
                                    368.2 304 269.7 304H178.3z"
                                          fill="white"/>
                                </svg>
                            </div>
                            <div th:text="${post.author.username}"></div>
                        </div>
                        <a th:href="@{|/post/detail/${post.id}|}">
                            <div class="mb-2 text-3xl line-clamp-2"
                                 th:text="${post.title}">
                            </div>
                            <div class="mb-1 text-gray-400 line-clamp-1"
                                 th:text="${post.content}">
                            </div>
                            <div class="flex text-xs text-gray-400">
                                <div class="mr-1"
                                     th:text="${#temporals.format(post.createDate, 'yyyy.MM.dd')}"></div>
                                <div class="mr-1">·</div>
                                <div>0 min read</div>
                            </div>
                        </a>
                    </div>
                    <div class="flex-none w-64 h-44 p-4 border border-white">
                        사진
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!-- 페이징처리 시작 -->
    <div class="flex justify-center mt-4" th:unless="${paging.isEmpty()}">
        <a th:classappend="${!paging.hasPrevious} ? 'opacity-50 pointer-events-none' : ''"
           th:href="|?page=0|"
           class="page-link join-item btn hover:text-blue-500"
           th:text="first">
        </a>
        <a th:classappend="${!paging.hasPrevious} ? 'opacity-50 pointer-events-none' : ''"
           th:href="|?page=${paging.number-1}|"
           class="page-link join-item btn hover:text-blue-500"
           th:text="prev">
        </a>
        <a th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
           th:if="${page >= paging.number-2 and page <= paging.number+2}"
           th:classappend="${page == paging.number} ? 'opacity-50 pointer-events-none' : ''"
           th:text="${page}"
           th:href="|?page=${page}|"
           class="page-link join-item btn hover:text-blue-500">
        </a>
        <a th:classappend="${!paging.hasNext} ? 'opacity-50 pointer-events-none' : ''"
           th:href="|?page=${paging.number+1}|"
           class="page-link join-item btn hover:text-blue-500"
           th:text="next">
        </a>
        <a th:classappend="${!paging.hasNext} ? 'opacity-50 pointer-events-none' : ''"
           th:href="|?page=${paging.totalPages-1}|"
           class="page-link join-item btn hover:text-blue-500"
           th:text="end">
        </a>
    </div>
    <!-- 페이징처리 끝 -->
</div>
</body>
</html>